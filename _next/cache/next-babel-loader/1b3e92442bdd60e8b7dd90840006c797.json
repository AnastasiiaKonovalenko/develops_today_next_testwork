{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime-corejs2/regenerator\";\nvar __jsx = React.createElement;\nimport React, { useState } from \"react\";\nimport axios from \"axios\";\nimport Link from \"next/link\";\nimport Layout from \"../components/Layout\";\nimport { Main, Input, PostsList, Article, ContainerInput, H2 } from \"../components/styleComponents\";\nvar newPost = \"AddPost\";\n\nvar Home = function Home(props) {\n  var _useState = useState(\"\"),\n      query = _useState[0],\n      setQuery = _useState[1];\n\n  var filteredPosts = !query ? props.posts : props.posts.filter(function (post) {\n    return post.title.includes(query) || post.body.includes(query);\n  });\n  return __jsx(Layout, null, __jsx(Main, null, __jsx(ContainerInput, null, __jsx(Input, {\n    onChange: function onChange(e) {\n      return setQuery(e.target.value);\n    },\n    type: \"text\",\n    value: query,\n    placeholder: \"Search post...\"\n  }), __jsx(\"article\", null, __jsx(Link, {\n    href: \"/something-else?uri=\".concat(newPost),\n    as: \"/new\"\n  }, __jsx(\"a\", null, \"Add Post\")))), __jsx(\"section\", null, __jsx(H2, null, \"Latest posts\"), __jsx(PostsList, null, props.posts.slice(-3).map(function (post) {\n    return __jsx(Article, {\n      key: post.id\n    }, __jsx(Link, {\n      href: \"/post?id=\".concat(post.id)\n    }, __jsx(\"a\", null, __jsx(\"h1\", null, post.title))), __jsx(\"img\", {\n      style: {\n        width: \"100%\",\n        objectFit: \"cover\"\n      },\n      src: \"https://images.unsplash.com/photo-1486312338219-ce68d2c6f44d?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&w=1000&q=80\",\n      alt: \"something what describe post\"\n    }), __jsx(\"p\", {\n      style: {\n        color: \"#555\",\n        fontSize: \"18px\"\n      }\n    }, post.body.length > 120 ? \"\".concat(post.body.slice(0, 120), \"...\") : post.body));\n  })), __jsx(H2, null, \"All posts\"), __jsx(PostsList, null, filteredPosts.map(function (post) {\n    return __jsx(\"article\", {\n      key: post.id\n    }, __jsx(Link, {\n      href: \"/post?id=\".concat(post.id)\n    }, __jsx(\"a\", null, __jsx(\"h1\", null, post.title))), __jsx(\"img\", {\n      style: {\n        width: \"100%\",\n        objectFit: \"cover\"\n      },\n      src: \"https://images.unsplash.com/photo-1486312338219-ce68d2c6f44d?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&w=1000&q=80\",\n      alt: \"something what describe post\"\n    }), __jsx(\"p\", {\n      style: {\n        color: \"#555\",\n        fontSize: \"18px\"\n      }\n    }, post.body.length > 20 ? \"\".concat(post.body.slice(0, 200), \"...\") : post.body));\n  })))));\n};\n\nHome.getInitialProps = function _callee() {\n  var res, data;\n  return _regeneratorRuntime.async(function _callee$(_context) {\n    while (1) {\n      switch (_context.prev = _context.next) {\n        case 0:\n          _context.next = 2;\n          return _regeneratorRuntime.awrap(axios.get(\"https://simple-blog-api.crew.red/posts\"));\n\n        case 2:\n          res = _context.sent;\n          _context.next = 5;\n          return _regeneratorRuntime.awrap(res.data);\n\n        case 5:\n          data = _context.sent;\n          return _context.abrupt(\"return\", {\n            posts: data\n          });\n\n        case 7:\n        case \"end\":\n          return _context.stop();\n      }\n    }\n  });\n};\n\nexport default Home;","map":null,"metadata":{},"sourceType":"module"}